{% extends "base.html" %}
{% block title %}{{ show.title }} â€” DÃ©tails{% endblock %}
{% block content %}

<div style="max-width:800px; margin:0 auto;">
  <a href="{{ url_for('home') }}" style="display:inline-block; margin-bottom:16px; color:var(--text); text-decoration:none;">â† Retour aux spectacles</a>
  
  <article class="card" style="max-width:none;">
    {% if show.has_image() or show.is_pdf() %}
      <div class="media" style="aspect-ratio:16/9; max-height:400px;">
        {% if show.has_image() %}
          <img src="{{ url_for('uploaded_file', filename=show.file_name) }}" alt="{{ show.title }}" style="width:100%; height:100%; object-fit:contain;">
        {% elif show.is_pdf() %}
          <a class="pdf-thumb" href="{{ url_for('uploaded_file', filename=show.file_name) }}" target="_blank" style="font-size:2rem;">ğŸ“„ Voir le PDF</a>
        {% endif %}
      </div>
    {% endif %}

    <div class="content" style="padding:24px;">
      {% if show.raison_sociale %}
        <p style="font-size:1.1rem; font-weight:600; color:var(--primary); margin-bottom:8px;">{{ show.raison_sociale }}</p>
      {% endif %}
      <h1 style="margin-top:0;">{{ show.title }}</h1>
      
      <div style="display:flex; gap:16px; flex-wrap:wrap; margin-bottom:16px;">
        {% if show.category %}
          <span class="badge">{{ show.category }}</span>
        {% endif %}
        {% if show.location %}
          <span class="badge">ğŸ“ {{ show.location }}</span>
        {% endif %}
        {% if show.age_range %}
          <span class="badge">ğŸ‘¶ {{ show.age_range }}</span>
        {% endif %}
        {% if show.date %}
          <span class="badge">ğŸ“… {{ show.date.strftime('%d/%m/%Y') }}</span>
        {% endif %}
      </div>

      {% if show.description %}
        <div style="margin:24px 0;">
          <h3>Description</h3>
          <p style="line-height:1.6; color:#ddd;">{{ show.description }}</p>
        </div>
      {% endif %}

      {% if show.contact_email %}
        <div style="margin:24px 0;">
          <h3>Contact</h3>
          <p>
            <a href="mailto:{{ show.contact_email }}" style="color:var(--primary); text-decoration:none;">
              âœ‰ï¸ {{ show.contact_email }}
            </a>
          </p>
        </div>
      {% endif %}

      <div style="margin-top:32px; padding-top:24px; border-top:1px solid var(--border);">
        <a href="{{ url_for('demande_animation') }}" 
           style="display:inline-block; padding:12px 24px; background:var(--primary); color:white; border-radius:10px; text-decoration:none; font-weight:600;">
          ğŸ“ Faire une demande d'animation
        </a>
      </div>
    </div>
  </article>
</div>

<style>
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 0.9rem;
  color: var(--text);
}
</style>

{% endblock %}
