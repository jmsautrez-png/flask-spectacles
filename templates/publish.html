{% extends "base.html" %}
{% block title %}Publier vØtre spectacle ou animation - AnimatoSpectacle{% endblock %}

{% block content %}
<div class="demande-wrap" style="background:linear-gradient(135deg,#162447 0%,#283e5e 100%); border:2px solid #283e5e; border-radius:16px; padding:32px; margin-bottom:32px; box-shadow:0 4px 16px #16244722; color:#fff;">
  <h2 style="color:#fff; text-shadow:0 2px 8px #16244766;">Publier vØtre spectacle</h2>
  <p style="color:#e0e6f6; margin-bottom:24px; text-shadow:0 1px 4px #16244744;">Remplissez le formulaire ci-dessous. VØtre annonce sera examinée avant publication.</p>

  <form action="{{ url_for('submit_show') }}" method="post" enctype="multipart/form-data" class="demande-form">

    <!-- SECTION: Informations de la compagnie -->
    <fieldset class="demande-section">
      <legend style="color:#fff; text-shadow:0 2px 8px #16244766;">Informations de la compagnie</legend>
      
      <div class="grid-2">
        <div>
          <label>
            <span class="label-text">Raison sociale</span>
            <input type="text" name="raison_sociale" placeholder="Nom de votre compagnie">
          </label>
        </div>

        <div>
          <label>
            <span class="label-text">Email de contact</span>
            <span class="hint">Pour mettre votre adresse courriel <a href="{{ url_for('legal') }}" style="color:var(--primary);text-decoration:underline;">nous contacter</a></span>
            <input type="email" name="contact_email" value="audition_2020@yahoo.fr" {% if not (user and user.is_admin) %}readonly{% endif %}>
          </label>
        </div>
      </div>
    </fieldset>

    <!-- SECTION: Détails du spectacle -->
    <fieldset class="demande-section">
      <legend style="color:#fff; text-shadow:0 2px 8px #16244766;">Détails du spectacle</legend>
      
      <div>
        <label>
          <span class="label-text">Titre du spectacle <span class="req">*</span></span>
          <input type="text" name="title" placeholder="Ex: La magie des 4 éléments" required>
        </label>
      </div>

      <div>
        <label>
          <span class="label-text">Description</span>
          <span class="hint">Décrivez votre spectacle en quelques lignes</span>
          <textarea name="description" rows="4" placeholder="Décrivez votre spectacle, ses points forts, le message..."></textarea>
        </label>
      </div>

      <div class="grid-2">
        <div>
          <label>
            <span class="label-text">Catégorie</span>
            <input type="text" name="category" placeholder="Ex: Magie, Théâtre, Clown">
          </label>
        </div>

        <div>
          <label>
            <span class="label-text">Tranche d'âge <span class="req">*</span></span>
            <select name="age_range" required>
              <option value="">-- Choisir --</option>
              <option value="enfant">Enfant</option>
              <option value="adulte">Adulte</option>
              <option value="tout public">Tout public</option>
            </select>
          </label>
        </div>
      </div>

      <div class="grid-2">
        <div>
          <label>
            <span class="label-text">Lieu</span>
            <input type="text" name="location" placeholder="Ex: Paris, Lyon, Marseille">
          </label>
        </div>

        <div>
          <label>
            <span class="label-text">Date</span>
            <input type="date" name="date">
          </label>
        </div>
      </div>
    </fieldset>

    <!-- SECTION: Fichier -->
    <fieldset class="demande-section">
      <legend style="color:#fff; text-shadow:0 2px 8px #16244766;">Affiche ou document</legend>
      
      <div>
        <label>
          <span class="label-text">Affiche / PDF</span>
          <span class="hint">Taille max : 5 MB - Formats acceptés : images et PDF</span>
          <input type="file" name="file" accept="image/*,application/pdf">
        </label>
      </div>
    </fieldset>

    <div style="display:flex; gap:12px; justify-content:flex-end; margin-top:24px;">
      <button type="submit" style="background:var(--primary); color:white; padding:10px 24px; border:none; border-radius:8px; font-weight:600; cursor:pointer; font-size:1rem;">
          Envoyer
      </button>
      <button type="submit" style="background:linear-gradient(135deg,#1976d2 0%,#355c7d 100%); color:white; padding:10px 24px; border:none; border-radius:10px; font-weight:700; cursor:pointer; font-size:1rem; box-shadow:0 2px 8px #1976d244; transition:all 0.2s;">
    </div>

  </form>
</div>
{% endblock %}


