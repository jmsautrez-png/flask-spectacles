{% extends "base.html" %}
{# Bloc robots : noindex uniquement si recherche textuelle (pas pour pagination ou filtres) #}
{% block robots %}
  {% if q %}
    <meta name="robots" content="noindex,follow">
  {% else %}
    <meta name="robots" content="index,follow">
  {% endif %}
{% endblock %}

{# Balises rel prev/next pour la pagination #}
{% if pagination %}
  {% if pagination.has_prev %}
    <link rel="prev" href="{{ url_for('home', page=pagination.prev_num, category=request.args.get('category', ''), location=request.args.get('location', ''), _external=True) }}">
  {% endif %}
  {% if pagination.has_next %}
    <link rel="next" href="{{ url_for('home', page=pagination.next_num, category=request.args.get('category', ''), location=request.args.get('location', ''), _external=True) }}">
  {% endif %}
{% endif %}



{# OG URL sans params aussi #}
{% block og_url %}{{ request.base_url }}{% endblock %}
{% block title %}Spectacle Animation - Trouvez votre spectacle et animation pour enfants, √©coles, mairies, entreprises | +200 artistes professionnels{% endblock %}
{% block description %}üé≠ Plateforme n¬∞1 de spectacle animation en France : spectacles pour enfants, animations scolaires, magie, cirque, th√©√¢tre, clowns. +200 artistes pro. Devis gratuit sous 3h. √âcoles, mairies, CSE, anniversaires.{% endblock %}

{% block extra_head %}
<!-- Donn√©es structur√©es Schema.org pour la page d'accueil -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Service",
  "serviceType": "Spectacle Animation",
  "name": "Spectacle'ment V√òtre - Spectacles et Animations",
  "description": "Plateforme de mise en relation avec +200 artistes professionnels pour spectacles et animations : magie, cirque, th√©√¢tre, clowns, marionnettes. Pour √©coles, mairies, CSE, anniversaires.",
  "provider": {
    "@type": "Organization",
    "name": "Spectacle'ment V√òtre",
    "url": "{{ request.url_root }}",
    "logo": "{{ url_for('static', filename='img/logo_spectaclement_votre.png', _external=True) }}",
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "Service Client",
      "availableLanguage": "French",
      "areaServed": "FR"
    }
  },
  "areaServed": {
    "@type": "Country",
    "name": "France"
  },
  "audience": {
    "@type": "Audience",
    "audienceType": ["√âcoles", "Mairies", "Comit√©s d'entreprise", "Particuliers", "Associations"]
  },
  "offers": {
    "@type": "AggregateOffer",
    "priceCurrency": "EUR",
    "lowPrice": "300",
    "highPrice": "2000",
    "priceSpecification": {
      "@type": "PriceSpecification",
      "priceCurrency": "EUR",
      "price": "300-2000"
    }
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "reviewCount": "180",
    "bestRating": "5"
  },
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Catalogue Spectacles et Animations",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Spectacle Animation Enfants",
          "description": "Spectacles et animations pour enfants : magie, cirque, clowns, marionnettes"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Animation Scolaire",
          "description": "Spectacles p√©dagogiques pour √©coles maternelles, primaires et coll√®ges"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Animation Mairie et CSE",
          "description": "Spectacles pour f√™tes de village, arbres de No√´l, √©v√©nements municipaux"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Animation Anniversaire",
          "description": "Animations pour anniversaires d'enfants avec magiciens, clowns, cirque"
        }
      }
    ]
  }
}
</script>

<!-- Donn√©es structur√©es FAQ pour Google -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Qu'est-ce qu'un spectacle animation ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Un spectacle animation combine une prestation artistique (magie, cirque, th√©√¢tre, clown) avec une dimension interactive o√π les enfants ou le public participent activement. Nos spectacles animations sont con√ßus pour divertir, √©duquer et cr√©er des moments m√©morables lors de vos √©v√©nements (√©coles, anniversaires, f√™tes de village, arbres de No√´l)."
      }
    },
    {
      "@type": "Question",
      "name": "Quels types de spectacles et animations proposez-vous ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Nous proposons une large gamme de spectacles et animations : magie interactive, clowns professionnels, cirque, marionnettes, th√©√¢tre jeune public, contes musicaux, ventriloquie, animations scientifiques, ateliers cr√©atifs. Tous nos artistes de spectacle animation sont professionnels et adaptent leur prestation selon l'√¢ge du public (3-12 ans)."
      }
    },
    {
      "@type": "Question",
      "name": "Combien co√ªte un spectacle animation pour √©cole ou mairie ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Le prix d'un spectacle animation varie selon le type de prestation, la dur√©e, le nombre de participants et la localisation. En moyenne, comptez entre 300‚Ç¨ et 800‚Ç¨ pour une animation scolaire, et entre 500‚Ç¨ et 2000‚Ç¨ pour un √©v√©nement de mairie, CSE ou arbre de No√´l."
      }
    },
    {
      "@type": "Question",
      "name": "Comment trouver un magicien pour un anniversaire ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Pour r√©server un magicien pour anniversaire, parcourez notre cat√©gorie 'Magiciens' dans le catalogue, consultez les profils et photos des artistes, puis faites une demande de devis en indiquant la date, le lieu et le nombre d'enfants. Vous recevrez rapidement des propositions personnalis√©es."
      }
    },
    {
      "@type": "Question",
      "name": "Intervenez-vous dans toute la France ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Oui ! Notre r√©seau d'artistes couvre toute la France. Vous pouvez filtrer les spectacles par r√©gion et ville dans notre catalogue. Beaucoup d'artistes se d√©placent sur plusieurs d√©partements et r√©gions."
      }
    }
  ]
}
</script>

<!-- Breadcrumb Schema.org -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "name": "Accueil",
    "item": "{{ request.url_root }}"
  }]
}
</script>
{% endblock %}

{% block content %}

<!-- Section Hero principale avec H1 et intro SEO -->
<section class="hero-intro" style="text-align: center; margin-bottom: 40px; padding: 30px 20px; background: linear-gradient(135deg, rgba(22,36,71,0.8) 0%, rgba(40,62,94,0.8) 100%); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
  <h1 style="font-size: 2.2rem; margin: 0 0 20px 0; color: #ffc107; font-weight: 800; line-height: 1.3; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
    Spectacle Animation : La Plateforme n¬∞1 pour vos √âv√©nements
  </h1>
  <p style="font-size: 1.1rem; color: #fff; line-height: 1.7; max-width: 900px; margin: 0 auto 15px; opacity: 0.95;">
    Trouvez le <strong>spectacle</strong> ou l'<strong>animation</strong> parfait(e) pour votre √©v√©nement ! <strong>Spectacle'ment V√òtre</strong> vous met en relation avec <strong>+200 artistes professionnels</strong> : spectacles pour enfants, animations scolaires, magie, cirque, th√©√¢tre, clowns, marionnettes. Pour les <strong>√©coles</strong>, <strong>mairies</strong>, <strong>CSE</strong>, <strong>anniversaires</strong>, associations et particuliers en France.
  </p>
  <p style="font-size: 1rem; color: rgba(255,255,255,0.85); max-width: 800px; margin: 0 auto;">
    üéØ R√©ponse moyenne sous 3h ‚Ä¢ ‚≠ê 30 ans d'exp√©rience ‚Ä¢ üìç Toute la France ‚Ä¢ ‚úÖ +180 spectacles/an
  </p>
</section>

<style>
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 4px 15px rgba(109,19,19,0.5);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(109,19,19,0.8);
  }
}

@keyframes border-spin {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

.btn-mairie-wrapper {
  position: relative;
  display: inline-block;
  padding: 3px;
  border-radius: 28px;
  background: linear-gradient(90deg, #ffc107, #ff5722, #e91e63, #9c27b0, #3f51b5, #2196f3, #00bcd4, #4caf50, #ffc107);
  background-size: 200% 100%;
  animation: border-spin 2s linear infinite;
}

.btn-mairie {
  display: block;
  background: #ffc107;
  color: #000;
  padding: 12px 24px;
  border-radius: 25px;
  font-weight: 700;
  font-size: 1.1rem;
  text-decoration: none;
  white-space: nowrap;
  letter-spacing: 0.8px;
  transition: all 0.3s;
}

.btn-mairie:hover {
  transform: scale(1.02);
}

.btn-artiste-wrapper {
  position: relative;
  display: inline-block;
  padding: 3px;
  border-radius: 28px;
  background: linear-gradient(90deg, #ffc107, #ffeb3b, #ff9800, #ffd54f, #ffca28, #fff176, #ffc107);
  background-size: 200% 100%;
  animation: border-spin 2s linear infinite;
}

.btn-artiste {
  display: block;
  background: linear-gradient(135deg, #ffc107 0%, #ffeb3b 50%, #ffd54f 100%);
  color: #000;
  padding: 8px 18px;
  border-radius: 25px;
  font-weight: 600;
  font-size: 0.95rem;
  text-decoration: none;
  white-space: nowrap;
  letter-spacing: 0.5px;
  transition: all 0.3s;
}

.btn-artiste:hover {
  transform: scale(1.02);
}

.btn-evenement-wrapper {
  position: relative;
  display: inline-block;
  padding: 3px;
  border-radius: 12px;
  background: linear-gradient(135deg, #0a0a1a 0%, #6d1313 25%, #e91e63 50%, #9c27b0 75%, #0a0a1a 100%);
  background-size: 300% 300%;
  animation: header-gradient-btn 8s ease infinite;
}

@keyframes header-gradient-btn {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.btn-evenement {
  display: block;
  background: linear-gradient(135deg, #1a0a0a 0%, #6d1313 30%, #8b1e1e 50%, #6d1313 70%, #1a0a0a 100%);
  background-size: 300% 300%;
  animation: header-gradient-btn 8s ease infinite;
  color: #fff;
  padding: 12px 28px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 1.08em;
  text-decoration: none;
  white-space: nowrap;
  box-shadow: 0 4px 15px rgba(109, 19, 19, 0.5);
  transition: all 0.3s;
}

.btn-evenement:hover {
  transform: scale(1.03);
  box-shadow: 0 6px 20px rgba(233, 30, 99, 0.6);
}
</style>

<!-- Section Hero : Deux choix principaux -->
<style>
  .hero-choice-section {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    gap: 1.875rem;
    margin-bottom: 2.8125rem;
  }
  
  .hero-choice-section > a {
    -webkit-box-flex: 1;
    -ms-flex: 1 1 calc(50% - 1rem);
    flex: 1 1 calc(50% - 1rem);
    min-width: 280px;
  }
  
  @media (max-width: 768px) {
    .hero-choice-section {
      gap: 1.25rem;
    }
    .hero-choice-section > a {
      -ms-flex: 1 1 100%;
      flex: 1 1 100%;
    }
  }
  
  .hero-choice-card {
    display: block;
    background: linear-gradient(135deg, #162447 0%, #1f4068 50%, #283e5e 100%);
    border: 0.1875rem solid #355c7d;
    border-radius: 1.25rem;
    padding: 3.75rem 2.1875rem;
    text-align: center;
    text-decoration: none;
    color: #fff;
    -webkit-transition: all 0.3s ease;
    transition: all 0.3s ease;
    box-shadow: 0 0.5rem 1.875rem rgba(0,0,0,0.3);
    position: relative;
    overflow: hidden;
  }
  
  .hero-choice-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 0.25rem;
    background: linear-gradient(90deg, #ffc107, #ff9800, #ffc107);
  }
  
  .hero-choice-card:hover {
    -webkit-transform: translateY(-0.5rem);
    transform: translateY(-0.5rem);
    border-color: #ffc107;
    box-shadow: 0 0.9375rem 2.8125rem rgba(255,193,7,0.25);
  }
  
  .hero-choice-card h2 {
    margin: 0 0 1.125rem 0;
    font-size: 1.5rem;
    color: #ffc107 !important;
    font-weight: 700;
    text-shadow: 0 0.125rem 0.5rem rgba(0,0,0,0.3);
    display: block;
    visibility: visible;
    opacity: 1;
  }
  
  .hero-choice-card p {
    margin: 0;
    font-size: 1rem;
    color: #fff;
    line-height: 1.6;
    text-align: center;
  }
  
  .hero-choice-card .cta-hint {
    display: inline-block;
    margin-top: 1.5625rem;
    padding: 0.75rem 1.75rem;
    background: #ffc107;
    border: none;
    border-radius: 1.5625rem;
    font-size: 1rem;
    color: #000;
    font-weight: 700;
    -webkit-transition: all 0.3s;
    transition: all 0.3s;
  }
  
  .hero-choice-card:hover .cta-hint {
    background: #ffeb3b;
    -webkit-transform: scale(1.05);
    transform: scale(1.05);
  }
  
  .hero-choice-card .desc-box {
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 0.625rem;
    padding: 0.75rem 1.25rem;
    margin: 0.9375rem auto 0 auto;
    display: inline-block;
  }
  
  /* Bloc hero artiste/compagnie - pleine largeur */
  .hero-artiste-card {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
    width: 100%;
    background: linear-gradient(135deg, #ffc107 0%, #ff9800 50%, #ffd54f 100%);
    border: 0.1875rem solid #ff9800;
    border-radius: 1rem;
    padding: 1.25rem 2rem;
    text-align: center;
    text-decoration: none;
    color: #000;
    -webkit-transition: all 0.3s ease;
    transition: all 0.3s ease;
    box-shadow: 0 0.375rem 1.25rem rgba(255,152,0,0.4);
    position: relative;
    overflow: hidden;
    margin-top: 1rem;
  }
  
  .hero-artiste-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 0.1875rem;
    background: linear-gradient(90deg, #fff, #ffc107, #fff);
  }
  
  .hero-artiste-card:hover {
    -webkit-transform: translateY(-0.25rem);
    transform: translateY(-0.25rem);
    border-color: #fff;
    box-shadow: 0 0.5rem 1.5rem rgba(255,193,7,0.6);
  }
  
  .hero-artiste-card h3 {
    margin: 0;
    font-size: 1.2rem;
    color: #000;
    font-weight: 700;
  }
  
  .hero-artiste-card .cta-hint-artiste {
    display: inline-block;
    padding: 0.5rem 1.25rem;
    background: #000;
    border: none;
    border-radius: 1.25rem;
    font-size: 0.9rem;
    color: #ffc107;
    font-weight: 700;
    -webkit-transition: all 0.3s;
    transition: all 0.3s;
  }
  
  .hero-artiste-card:hover .cta-hint-artiste {
    background: #222;
    -webkit-transform: scale(1.05);
    transform: scale(1.05);
  }
  
  @media (max-width: 768px) {
    .hero-artiste-card {
      flex-direction: column;
      gap: 0.75rem;
      padding: 1rem 1.5rem;
    }
    .hero-artiste-card h3 {
      font-size: 1rem;
    }
  }
</style>

<div class="hero-choice-section">
  <a href="{{ url_for('ecoles_themes') }}" class="hero-choice-card">
    <h2>√âcoles : votre projet p√©dagogique</h2>
    <div class="desc-box">
      <p>Spectacles √©ducatifs adapt√©s √† votre th√®me annuel : sciences, environnement, lecture, histoire... Nous trouvons l'artiste parfait pour votre classe de maternelle, primaire ou coll√®ge.</p>
    </div>
    <span class="cta-hint">D√©couvrir nos spectacles p√©dagogiques ‚Üí</span>
  </a>
  
  <a href="{{ url_for('catalogue') }}" class="hero-choice-card">
    <h2>Mairie, √âcole, CSE... : trouver un spectacle</h2>
    <div class="desc-box">
      <p>Vous organisez un √©v√©nement pour votre commune, √©cole, comit√© d'entreprise ou association ? D√©couvrez notre catalogue de spectacles : magie, cirque, th√©√¢tre, concerts. Publiez votre appel d'offre gratuitement !</p>
    </div>
    <span class="cta-hint">Parcourir le catalogue ‚Üí</span>
  </a>
</div>

<!-- Bloc Artiste/Compagnie - Deux colonnes -->
<div class="hero-artiste-section">
  <a href="{{ url_for('publish') }}" class="hero-artiste-card">
    <h3>üé≠ Artiste ou Compagnie ?</h3>
    <span class="cta-hint-artiste">Publier mon spectacle ‚Üí</span>
  </a>
  <a href="{{ url_for('abonnement_compagnie') }}" class="hero-artiste-card hero-abonnement">
    <h3>‚≠ê Abonnement Compagnie</h3>
    <span class="cta-hint-artiste">D√©couvrir les avantages ‚Üí</span>
  </a>
</div>

<style>
  .hero-artiste-section {
    display: flex;
    gap: 1.5rem;
    margin-top: 1rem;
  }
  
  .hero-artiste-section .hero-artiste-card {
    flex: 1;
    margin-top: 0;
  }
  
  .hero-abonnement {
    background: linear-gradient(135deg, #1a237e 0%, #283e5e 50%, #1976d2 100%) !important;
    border-color: #1976d2 !important;
    color: #fff !important;
    box-shadow: 0 0.375rem 1.25rem rgba(25,118,210,0.4) !important;
  }
  
  .hero-abonnement h3 {
    color: #fff !important;
  }
  
  .hero-abonnement .cta-hint-artiste {
    background: #ffc107 !important;
    color: #000 !important;
  }
  
  .hero-abonnement:hover {
    border-color: #ffc107 !important;
    box-shadow: 0 0.5rem 1.5rem rgba(25,118,210,0.6) !important;
  }
  
  @media (max-width: 768px) {
    .hero-artiste-section {
      flex-direction: column;
      gap: 1rem;
    }
  }
</style>

<!-- Section Spectacles √† la Une -->
{% if spectacles_une %}
<style>
  .spectacles-une-section {
    max-width: 100%;
    margin: 32px auto 0 auto;
    padding: 0;
  }
  
  .spectacles-une-header {
    text-align: center;
    margin-bottom: 24px;
  }
  
  .spectacles-une-header-link {
    display: block;
    text-decoration: none;
    color: inherit;
    padding: 16px;
    border-radius: 12px;
    transition: background-color 0.3s ease, transform 0.2s ease;
  }
  
  .spectacles-une-header-link:hover {
    background-color: rgba(255, 255, 255, 0.05);
    transform: scale(1.02);
  }
  
  .spectacles-une-header-link:hover h2 {
    color: var(--primary, #f59e0b);
  }
  
  .spectacles-une-header-link:hover p {
    color: var(--text);
  }
  
  .spectacles-une-header h2 {
    font-size: 1.8rem;
    margin: 0 0 8px 0;
    color: var(--text);
    transition: color 0.3s ease;
  }
  
  .spectacles-une-header p {
    color: var(--muted);
    font-size: 1rem;
    margin: 0;
    transition: color 0.3s ease;
  }
</style>

<div class="spectacles-une-section">
  <div class="spectacles-une-header">
    <a href="https://spectacleanimation.fr/catalogue" class="spectacles-une-header-link">
      <h2>‚ú® Spectacles √† la Une</h2>
      <p>D√©couvrez notre s√©lection de spectacles exceptionnels</p>
    </a>
  </div>
  
  <div class="cards">
    {% for spectacle in spectacles_une %}
    <article class="card" style="border:2px solid #222;border-radius:16px;box-shadow:0 2px 12px #0008;padding:0 0 8px 0;transition:box-shadow .2s;color:#fff;">
      <a href="{{ url_for('show_detail', show_id=spectacle.id) }}" class="media-link">
        <div class="media">
          {% set images = spectacle.get_all_images() %}
          {% if images|length > 1 %}
            <!-- Diaporama avec plusieurs photos -->
            <div class="card-carousel" data-carousel>
              <div class="carousel-slides">
                {% for img in images %}
                <div class="carousel-slide">
                  <img src="{{ url_for('uploaded_file', filename=img) }}" alt="{{ spectacle.title }}{% if loop.index > 1 %} - Photo {{ loop.index }}{% endif %}">
                </div>
                {% endfor %}
              </div>
              <span class="photo-count">{{ images|length }} üì∑</span>
              <div class="carousel-indicators">
                {% for img in images %}
                <span class="carousel-indicator{% if loop.first %} active{% endif %}" data-slide="{{ loop.index0 }}"></span>
                {% endfor %}
              </div>
              <button class="carousel-nav carousel-prev" aria-label="Photo pr√©c√©dente">‚Äπ</button>
              <button class="carousel-nav carousel-next" aria-label="Photo suivante">‚Ä∫</button>
            </div>
          {% elif spectacle.has_image() %}
            <img src="{{ url_for('uploaded_file', filename=spectacle.file_name) }}" alt="{{ spectacle.title }}">
          {% else %}
            <div class="placeholder">üé≠</div>
          {% endif %}
        </div>
      </a>
      
      <a href="{{ url_for('show_detail', show_id=spectacle.id) }}" class="content-link">
        <div class="content">
          <div style="margin-bottom:6px;">
            <span class="badge" style="background:linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); color:#222; font-weight:700; border:none; font-size:0.75rem; padding:3px 8px; border-radius:10px;">
              ‚≠ê √Ä la une
            </span>
          </div>
          
          {% if spectacle.raison_sociale %}
            <p class="meta" style="font-weight:600; margin-bottom:8px; color:var(--primary); font-size:0.85em;">
              {{ spectacle.raison_sociale|title }}
            </p>
          {% endif %}
          
          <h3 style="margin:0 0 6px 0; line-height:1.2;">{{ spectacle.title }}</h3>
          
          <div style="display:flex; flex-direction:column; gap:4px; font-size:0.85em; margin-top:-2px;">
            {% if spectacle.age_range %}
            <div style="display:flex; align-items:center; gap:6px;">
              <span style="opacity:0.7; min-width:20px;">üë•</span>
              <span style="color:rgba(255,255,255,0.9);">{{ spectacle.age_range|format_age }}</span>
            </div>
            {% endif %}
          </div>
        </div>
      </a>
    </article>
    {% endfor %}
  </div>
  
  <div style="text-align:center; margin-top:24px;">
    <a href="{{ url_for('catalogue') }}" 
       style="display:inline-flex; align-items:center; gap:8px; padding:12px 28px; background:linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); color:#222; text-decoration:none; border-radius:25px; font-weight:700; font-size:1rem; transition:all 0.3s ease; box-shadow:0 4px 15px rgba(255,215,0,0.4);">
      üé≠ Voir le catalogue complet <i class="fa fa-arrow-right"></i>
    </a>
  </div>
</div>
{% endif %}

<!-- Section SEO Spectacle Animation -->
<section style="max-width: 1100px; margin: 45px auto; padding: 40px 30px; background: linear-gradient(135deg, #1a0a0a 0%, #6d1313 30%, #8b1e1e 50%, #6d1313 70%, #1a0a0a 100%); border-radius: 16px; box-shadow: 0 6px 25px rgba(109,19,19,0.4); border: 2px solid rgba(233,30,99,0.3);">
  <h2 style="text-align: center; color: #ffc107; font-size: 2rem; margin: 0 0 25px 0; font-weight: 800; text-shadow: 0 2px 6px rgba(0,0,0,0.5);">üé≠ Spectacle et Animation : Notre Expertise √† Votre Service</h2>
  
  <div style="color: #fff; line-height: 1.8; font-size: 1.05rem;">
    <p style="margin: 0 0 20px 0; text-align: justify;">
      Depuis <strong>30 ans</strong>, <strong>Spectacle'ment V√òtre</strong> est LA r√©f√©rence en mati√®re de <strong>spectacle animation</strong> en France. Nous sommes sp√©cialis√©s dans l'organisation et la mise en relation entre <strong>artistes professionnels</strong> et organisateurs d'√©v√©nements pour tous types de manifestations.
    </p>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; margin: 30px 0;">
      <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107;">
        <h3 style="color: #ffc107; font-size: 1.2rem; margin: 0 0 12px 0;">üè´ Spectacle Animation Scolaire</h3>
        <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
          Nos <strong>spectacles pour √©coles</strong> (maternelle, primaire, coll√®ge) s'adaptent √† tous vos projets p√©dagogiques : sciences, environnement, pr√©vention, lecture. Animations interactives et √©ducatives approuv√©es par des milliers d'enseignants.
        </p>
      </div>
      
      <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107;">
        <h3 style="color: #ffc107; font-size: 1.2rem; margin: 0 0 12px 0;">üèõÔ∏è Spectacle Animation Mairie & CSE</h3>
        <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
          <strong>F√™tes de village</strong>, arbres de No√´l, kermesses, √©v√©nements municipaux : nous proposons des <strong>spectacles animation</strong> adapt√©s √† tous les budgets et tous les publics. Prix d√©gressifs pour collectivit√©s.
        </p>
      </div>
      
      <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107;">
        <h3 style="color: #ffc107; font-size: 1.2rem; margin: 0 0 12px 0;">üéÇ Animation Anniversaire Enfant</h3>
        <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
          Pour un <strong>anniversaire inoubliable</strong>, r√©servez un magicien, un clown, un spectacle de cirque ou une animation √† th√®me. Nos artistes s'adaptent √† l'√¢ge des enfants (3-12 ans) et au lieu (domicile, salle).
        </p>
      </div>
    </div>
    
    <p style="margin: 25px 0 0 0; text-align: center; font-weight: 600; font-size: 1.1rem; color: #ffc107;">
      üåü Plus de <strong>200 artistes r√©f√©renc√©s</strong> ‚Ä¢ <strong>180+ spectacles programm√©s par an</strong> ‚Ä¢ Satisfaction garantie
    </p>
  </div>
  
  <div style="text-align: center; margin-top: 30px;">
    <a href="{{ url_for('catalogue') }}" style="display: inline-block; padding: 16px 40px; background: linear-gradient(135deg, #ffc107 0%, #ffeb3b 100%); color: #000; text-decoration: none; border-radius: 30px; font-weight: 800; font-size: 1.15rem; box-shadow: 0 6px 20px rgba(255,193,7,0.5); transition: all 0.3s ease; border: 2px solid #fff;">
      üé≠ D√©couvrir tous nos spectacles et animations
    </a>
  </div>
</section>

<!-- Section Chiffres Cl√©s avec animation -->
<section class="stats-section" style="background:linear-gradient(135deg,#162447 0%,#283e5e 100%); border-radius:12px; padding:20px 15px; margin:25px 0; box-shadow:0 2px 12px rgba(22,36,71,0.3);">
  <h2 style="text-align:center; color:#fff; margin-bottom:15px; font-size:1.1rem;">Nos chiffres cl√©s</h2>
  <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:15px; max-width:800px; margin:0 auto;">
    
    <div style="text-align:center; flex:1; min-width:140px; padding:10px;">
      <p style="color:#FFDEDE; font-size:0.75rem; margin:0 0 4px 0; line-height:1.3;">d'exp√©rience dans<br>le spectacle</p>
      <div style="font-size:1.8rem; font-weight:800; color:#ffc107;">
        <span class="counter" data-target="30">0</span> <span style="font-size:1rem;">ans</span>
      </div>
    </div>
    
    <div style="text-align:center; flex:1; min-width:140px; padding:10px;">
      <p style="color:#FFDEDE; font-size:0.75rem; margin:0 0 4px 0; line-height:1.3;">Spectacles<br>programm√©s/an</p>
      <div style="font-size:1.8rem; font-weight:800; color:#ffc107;">
        <span style="font-size:1.2rem;">+</span><span class="counter" data-target="180">0</span>
      </div>
    </div>
    
    <div style="text-align:center; flex:1; min-width:140px; padding:10px;">
      <p style="color:#FFDEDE; font-size:0.75rem; margin:0 0 4px 0; line-height:1.3;">Artistes<br>r√©f√©renc√©s</p>
      <div style="font-size:1.8rem; font-weight:800; color:#ffc107;">
        <span style="font-size:1.2rem;">+</span><span class="counter" data-target="200">0</span>
      </div>
    </div>
    
    <div style="text-align:center; flex:1; min-width:140px; padding:10px;">
      <p style="color:#FFDEDE; font-size:0.75rem; margin:0 0 4px 0; line-height:1.3;">R√©ponse moyenne<br>devis</p>
      <div style="font-size:1.8rem; font-weight:800; color:#ffc107;">
        <span class="counter" data-target="3">0</span><span style="font-size:1rem;">h</span>
      </div>
    </div>
    
  </div>
</section>

<!-- Section Comment √ßa marche -->
<section style="max-width: 1000px; margin: 40px auto; padding: 35px 25px; background: linear-gradient(135deg, rgba(22,36,71,0.6) 0%, rgba(40,62,94,0.6) 100%); border-radius: 16px; border: 2px solid rgba(255,193,7,0.2);">
  <h2 style="text-align: center; color: #ffc107; font-size: 1.8rem; margin: 0 0 30px 0; font-weight: 700;">Comment r√©server un spectacle ?</h2>
  
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; margin-bottom: 25px;">
    <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
      <div style="font-size: 2.5rem; margin-bottom: 10px;">üîç</div>
      <h3 style="color: #fff; font-size: 1.1rem; margin: 0 0 10px 0;">1. Parcourez</h3>
      <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin: 0; line-height: 1.5;">Explorez notre catalogue de spectacles par cat√©gorie : magiciens, clowns, cirque, marionnettes, th√©√¢tre...</p>
    </div>
    
    <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
      <div style="font-size: 2.5rem; margin-bottom: 10px;">üìù</div>
      <h3 style="color: #fff; font-size: 1.1rem; margin: 0 0 10px 0;">2. Demandez</h3>
      <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin: 0; line-height: 1.5;">Faites une demande de devis gratuite en quelques clics. Pr√©cisez votre date, lieu et type d'√©v√©nement.</p>
    </div>
    
    <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
      <div style="font-size: 2.5rem; margin-bottom: 10px;">‚ö°</div>
      <h3 style="color: #fff; font-size: 1.1rem; margin: 0 0 10px 0;">3. Recevez</h3>
      <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin: 0; line-height: 1.5;">L'artiste vous contacte sous 3h en moyenne avec un devis personnalis√© et d√©taill√©.</p>
    </div>
    
    <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
      <div style="font-size: 2.5rem; margin-bottom: 10px;">üéâ</div>
      <h3 style="color: #fff; font-size: 1.1rem; margin: 0 0 10px 0;">4. Profitez</h3>
      <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin: 0; line-height: 1.5;">R√©servez directement avec l'artiste et profitez d'un spectacle professionnel inoubliable !</p>
    </div>
  </div>
  
  <p style="text-align: center; color: rgba(255,255,255,0.9); font-size: 1rem; margin: 0;">
    <strong>Service 100% gratuit</strong> pour les organisateurs ‚Ä¢ Contact direct avec les artistes ‚Ä¢ Sans interm√©diaire
  </p>
</section>

<!-- FAQ SEO -->
<section style="max-width: 900px; margin: 40px auto; padding: 30px 25px; background: rgba(22,36,71,0.4); border-radius: 16px; border: 1px solid rgba(255,193,7,0.15);">
  <h2 style="text-align: center; color: #ffc107; font-size: 1.7rem; margin: 0 0 25px 0; font-weight: 700;">Questions fr√©quentes</h2>
  
  <div style="display: flex; flex-direction: column; gap: 18px;">
    <details style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;">
      <summary style="font-weight: 700; color: #fff; font-size: 1.05rem; cursor: pointer; list-style: none; display: flex; align-items: center; gap: 10px;">
        <span style="color: #ffc107;">‚ñ∂</span> Qu'est-ce qu'un spectacle animation ?
      </summary>
      <p style="color: rgba(255,255,255,0.85); margin: 15px 0 0 24px; line-height: 1.6; font-size: 0.95rem;">
        Un <strong>spectacle animation</strong> combine une prestation artistique (magie, cirque, th√©√¢tre, clown) avec une dimension interactive o√π les enfants ou le public participent activement. Nos <strong>spectacles animations</strong> sont con√ßus pour divertir, √©duquer et cr√©er des moments m√©morables lors de vos √©v√©nements (√©coles, anniversaires, f√™tes de village, arbres de No√´l).
      </p>
    </details>
    
    <details style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;">
      <summary style="font-weight: 700; color: #fff; font-size: 1.05rem; cursor: pointer; list-style: none; display: flex; align-items: center; gap: 10px;">
        <span style="color: #ffc107;">‚ñ∂</span> Quels types de spectacles et animations proposez-vous ?
      </summary>
      <p style="color: rgba(255,255,255,0.85); margin: 15px 0 0 24px; line-height: 1.6; font-size: 0.95rem;">
        Nous proposons une large gamme de <strong>spectacles et animations</strong> : magie interactive, clowns professionnels, cirque, marionnettes, th√©√¢tre jeune public, contes musicaux, ventriloquie, animations scientifiques, ateliers cr√©atifs. Tous nos artistes de <strong>spectacle animation</strong> sont professionnels et adaptent leur prestation selon l'√¢ge du public (3-12 ans) et le type d'√©v√©nement.
      </p>
    </details>
    
    <details style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;">
      <summary style="font-weight: 700; color: #fff; font-size: 1.05rem; cursor: pointer; list-style: none; display: flex; align-items: center; gap: 10px;">
        <span style="color: #ffc107;">‚ñ∂</span> Combien co√ªte un spectacle animation pour √©cole ou mairie ?
      </summary>
      <p style="color: rgba(255,255,255,0.85); margin: 15px 0 0 24px; line-height: 1.6; font-size: 0.95rem;">
        Le prix d'un <strong>spectacle animation</strong> varie selon le type de prestation, la dur√©e, le nombre de participants et la localisation. En moyenne, comptez entre <strong>300‚Ç¨ et 800‚Ç¨</strong> pour une <strong>animation scolaire</strong>, et entre <strong>500‚Ç¨ et 2000‚Ç¨</strong> pour un √©v√©nement de mairie, CSE ou arbre de No√´l. Demandez des <strong>devis gratuits</strong> pour comparer les offres de nos artistes professionnels.
      </p>
    </details>
    
    <details style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;">
      <summary style="font-weight: 700; color: #fff; font-size: 1.05rem; cursor: pointer; list-style: none; display: flex; align-items: center; gap: 10px;">
        <span style="color: #ffc107;">‚ñ∂</span> Comment trouver un magicien pour un anniversaire ?
      </summary>
      <p style="color: rgba(255,255,255,0.85); margin: 15px 0 0 24px; line-height: 1.6; font-size: 0.95rem;">
        Pour r√©server un <strong>magicien pour anniversaire</strong>, parcourez notre cat√©gorie "Magiciens" dans le catalogue, consultez les profils et photos des artistes, puis faites une demande de devis en indiquant la date, le lieu et le nombre d'enfants. Vous recevrez rapidement des propositions personnalis√©es.
      </p>
    </details>
    
    <details style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;">
      <summary style="font-weight: 700; color: #fff; font-size: 1.05rem; cursor: pointer; list-style: none; display: flex; align-items: center; gap: 10px;">
        <span style="color: #ffc107;">‚ñ∂</span> Quel d√©lai pour r√©server un spectacle ?
      </summary>
      <p style="color: rgba(255,255,255,0.85); margin: 15px 0 0 24px; line-height: 1.6; font-size: 0.95rem;">
        Nous recommandons de r√©server <strong>au moins 4 √† 6 semaines √† l'avance</strong> pour avoir le meilleur choix d'artistes, surtout pour les p√©riodes de forte demande (No√´l, fin d'ann√©e scolaire, kermesses). Les artistes r√©pondent g√©n√©ralement sous <strong>3h</strong> √† vos demandes.
      </p>
    </details>
    
    <details style="background: rgba(255,255,255,0.05); padding: 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;">
      <summary style="font-weight: 700; color: #fff; font-size: 1.05rem; cursor: pointer; list-style: none; display: flex; align-items: center; gap: 10px;">
        <span style="color: #ffc107;">‚ñ∂</span> Intervenez-vous dans toute la France ?
      </summary>
      <p style="color: rgba(255,255,255,0.85); margin: 15px 0 0 24px; line-height: 1.6; font-size: 0.95rem;">
        Oui ! Notre r√©seau d'artistes couvre <strong>toute la France</strong>. Vous pouvez filtrer les spectacles par r√©gion et ville dans notre catalogue. Beaucoup d'artistes se d√©placent sur plusieurs d√©partements et r√©gions.
      </p>
    </details>
  </div>
</section>

<style>
/* Style pour les d√©tails FAQ */
details[open] summary span {
  transform: rotate(90deg);
  transition: transform 0.3s ease;
}
details summary span {
  transition: transform 0.3s ease;
}
</style>

<script>
// Animation des compteurs
(function() {
  const counters = document.querySelectorAll('.counter');
  const speed = 50; // Plus petit = plus rapide
  
  const animateCounter = (counter) => {
    const target = +counter.getAttribute('data-target');
    const increment = target / 100;
    let current = 1;
    
    const updateCount = () => {
      if (current < target) {
        current += increment;
        if (current > target) current = target;
        counter.innerText = Math.ceil(current);
        setTimeout(updateCount, speed);
      } else {
        counter.innerText = target;
      }
    };
    
    updateCount();
  };
  
  // Observer pour d√©clencher l'animation quand la section est visible
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        counters.forEach(counter => {
          counter.innerText = '1';
          animateCounter(counter);
        });
        observer.disconnect();
      }
    });
  }, { threshold: 0.3 });
  
  const statsSection = document.querySelector('.stats-section');
  if (statsSection) {
    observer.observe(statsSection);
  }
})();

// Fonction pour initialiser les carousels des spectacles √† la une
(function() {
  var carousels = document.querySelectorAll('[data-carousel]');
  
  carousels.forEach(function(carousel, carouselIndex) {
    if (carousel.dataset.initialized === 'true') return;
    carousel.dataset.initialized = 'true';
    
    var slidesContainer = carousel.querySelector('.carousel-slides');
    var allSlides = carousel.querySelectorAll('.carousel-slide');
    var indicators = carousel.querySelectorAll('.carousel-indicator');
    var prevBtn = carousel.querySelector('.carousel-prev');
    var nextBtn = carousel.querySelector('.carousel-next');
    var totalSlides = allSlides.length;
    var currentSlide = 0;
    var isPaused = false;
    var lastChangeTime = Date.now();
    var INTERVAL = 6000;

    if (totalSlides <= 1) return;

    function goToSlide(index) {
      if (index < 0) index = totalSlides - 1;
      else if (index >= totalSlides) index = 0;
      currentSlide = index;
      if (slidesContainer) {
        slidesContainer.style.transform = 'translateX(-' + (currentSlide * 100) + '%)';
      }
      indicators.forEach(function(ind, i) {
        ind.classList.toggle('active', i === currentSlide);
      });
      lastChangeTime = Date.now();
    }

    function nextSlide() { goToSlide(currentSlide + 1); }
    function prevSlide() { goToSlide(currentSlide - 1); }

    function tick() {
      if (!isPaused && document.body.contains(carousel)) {
        if (Date.now() - lastChangeTime >= INTERVAL) nextSlide();
        requestAnimationFrame(tick);
      }
    }

    if (prevBtn) prevBtn.addEventListener('click', function(e) { e.preventDefault(); e.stopPropagation(); prevSlide(); });
    if (nextBtn) nextBtn.addEventListener('click', function(e) { e.preventDefault(); e.stopPropagation(); nextSlide(); });
    indicators.forEach(function(indicator, i) {
      indicator.addEventListener('click', function(e) { e.preventDefault(); e.stopPropagation(); goToSlide(i); });
    });

    requestAnimationFrame(tick);
  });
})();
</script>

{% endblock %}
