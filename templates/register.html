{% extends "base.html" %}
{% block title %}Créer un compte - Spectacle'ment VØtre{% endblock %}

{% block content %}
<div class="demande-wrap" style="max-width:700px;">
  <h1 style="margin:0 0 8px 0;">Créer un compte</h1>
  <p class="text-muted" style="margin:0 0 16px 0;">
    Inscrivez-vous gratuitement pour publier vos spectacles et animations. Les champs marqués <span style="color:var(--primary); font-weight:700;">*</span> sont obligatoires.
  </p>

  <div style="background:#fffde7;border:1px solid #ffe082;padding:14px 18px;margin-bottom:20px;border-radius:10px;font-size:0.95rem;line-height:1.6;color:#795548;">
    <strong>• Publication 100 % gratuite et visibilité renforcée :</strong> vØtre spectacle est mis en ligne sans frais, avec un placement privilégié auprès de notre réseau d'acheteurs. Notre équipe s'occupe ensuite des demandes, des contacts et des ventes, sans commission tant qu'aucune réservation n'est conclue.
  </div>

  <form method="post" class="form demande-form" novalidate>
    
    <fieldset class="demande-section">
      <legend>Identifiants</legend>

      <div class="grid-2">
        <label>
          <span class="label-text">Nom d'utilisateur <span class="req">*</span></span>
          <input type="text" name="username" required placeholder="Votre nom d'utilisateur"
                 value="{{ request.form.get('username','') }}">
        </label>

        <label>
          <span class="label-text">Email <span class="req">*</span></span>
          <input type="email" name="email" required placeholder="votre@email.fr"
                 value="{{ request.form.get('email','') }}">
        </label>
      </div>

      <label style="margin-bottom:0;">
        <span class="label-text">Mot de passe <span class="req">*</span></span>
        <input type="password" name="password" required placeholder="Choisissez un mot de passe sécurisé">
      </label>
    </fieldset>

    <fieldset class="demande-section">
      <legend>Informations complémentaires</legend>

      <div class="grid-2">
        <label>
          <span class="label-text">Téléphone</span>
          <input type="text" name="telephone" placeholder="06 00 00 00 00"
                 value="{{ request.form.get('telephone','') }}">
        </label>

        <label>
          <span class="label-text">Raison sociale</span>
          <input type="text" name="raison_sociale" placeholder="Nom de votre compagnie"
                 value="{{ request.form.get('raison_sociale','') }}">
        </label>
      </div>

      <div class="grid-2">
        <label>
          <span class="label-text">Région</span>
          <input type="text" name="region" placeholder="Ex: Île-de-France"
                 value="{{ request.form.get('region','') }}">
        </label>

        <label>
          <span class="label-text">Site internet</span>
          <input type="url" name="site_internet" placeholder="https://www.monsite.fr"
                 value="{{ request.form.get('site_internet','') }}">
        </label>
      </div>
    </fieldset>

    <div class="demande-actions">
      <button type="submit" class="publish-btn" style="width:100%; padding:14px; font-size:1rem;">
        S'inscrire
      </button>
      
      <div style="display:flex; gap:12px; margin-top:12px;">
        <a class="btn-secondary" href="{{ url_for('login') }}" 
           style="flex:1; padding:10px; border-radius:8px; background:#23232a; color:var(--text); text-decoration:none; display:block; text-align:center; border:1px solid var(--border);">
          Annuler
        </a>
      </div>

      <p class="text-muted" style="margin:16px 0 0 0; font-size:0.85rem; text-align:center;">
        Déjà un compte ? <a href="{{ url_for('login') }}" style="color:var(--primary); text-decoration:underline;">Se connecter</a>
      </p>
    </div>
  </form>
</div>

{# Hide SEO block and footer on register page #}
<style>
  main.container .seo-block { display: none; }
  .site-footer { display: none; }
</style>
{% endblock %}
